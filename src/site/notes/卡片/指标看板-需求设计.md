---
{"dg-publish":true,"permalink":"/卡片/指标看板-需求设计/","dgPassFrontmatter":true}
---

* 功能-看板创建、删除、发布、授权、收藏、展示
	* 需求分析：
		* 看板需关联标签，标签可以进行管理
		  * ![库内资产/Pasted image 20220614142657.png](/img/user/%E5%BA%93%E5%86%85%E8%B5%84%E4%BA%A7/Pasted%20image%2020220614142657.png)
		  * ![库内资产/Pasted image 20220614142746.png](/img/user/%E5%BA%93%E5%86%85%E8%B5%84%E4%BA%A7/Pasted%20image%2020220614142746.png)
		* 看板可按角色或用户进行授权。涉及到同ums对接角色
			* ![库内资产/Pasted image 20220614143012.png](/img/user/%E5%BA%93%E5%86%85%E8%B5%84%E4%BA%A7/Pasted%20image%2020220614143012.png)
		* 看板可进行删除，建议逻辑删除
		* 看板分为公共看板、我创建的看板、(我)获得授权的看板进行展示。
			* 其中公共看板中每一个看板必须且最多选择一个三级目录存放，并且有收藏功能
				* ![库内资产/Pasted image 20220614143707.png](/img/user/%E5%BA%93%E5%86%85%E8%B5%84%E4%BA%A7/Pasted%20image%2020220614143707.png)
* 功能-看板配置
	* 需求分析
		* 配置页有指标树和维度，结构和逻辑基本和取数那里一样。
			* ![库内资产/Pasted image 20220614150449.png](/img/user/%E5%BA%93%E5%86%85%E8%B5%84%E4%BA%A7/Pasted%20image%2020220614150449.png)
			* 指标树可选指标是一颗同指标市场的树
			* 收藏指标是用户已收藏的可用指标列表
			* 已经应用的指标和维度都会影响到接下来可用的指标或维度
		* 拖拽指标到右侧看板可配置卡片。配置保存完一个卡片后立即展示数据？配置阶段是否也是每次一进入配置页面，然后把数页面？保存效果？
* 功能-看板查看
	* 需求分析
		* 卡片可以指定数据日期
		* 指标看板卡片可以跳转到以相同指标作为树根的指标树看板
* 技术设计-后端数据模型
	* ![库内资产/Pasted image 20220707174349.png](/img/user/%E5%BA%93%E5%86%85%E8%B5%84%E4%BA%A7/Pasted%20image%2020220707174349.png)
* 技术设计-卡片计算
	* 指标开发 -> 取数、卡片的流程
		* ![库内资产/Pasted image 20220614141550.png](/img/user/%E5%BA%93%E5%86%85%E8%B5%84%E4%BA%A7/Pasted%20image%2020220614141550.png)
		* 根据卡片配置组织逻辑SQL或者物化视图时，需要注意的一个点是因为卡片可以指定一个时间点，所以逻辑SQL必须是一个模板化的SQL，为时间点预留出占位变量